"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6629],{3905:function(t,n,e){e.d(n,{Zo:function(){return m},kt:function(){return s}});var a=e(67294);function l(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function r(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,a)}return e}function o(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?r(Object(e),!0).forEach((function(n){l(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function p(t,n){if(null==t)return{};var e,a,l=function(t,n){if(null==t)return{};var e,a,l={},r=Object.keys(t);for(a=0;a<r.length;a++)e=r[a],n.indexOf(e)>=0||(l[e]=t[e]);return l}(t,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)e=r[a],n.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(l[e]=t[e])}return l}var i=a.createContext({}),k=function(t){var n=a.useContext(i),e=n;return t&&(e="function"==typeof t?t(n):o(o({},n),t)),e},m=function(t){var n=k(t.components);return a.createElement(i.Provider,{value:n},t.children)},u={inlineCode:"code",wrapper:function(t){var n=t.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(t,n){var e=t.components,l=t.mdxType,r=t.originalType,i=t.parentName,m=p(t,["components","mdxType","originalType","parentName"]),d=k(e),s=l,N=d["".concat(i,".").concat(s)]||d[s]||u[s]||r;return e?a.createElement(N,o(o({ref:n},m),{},{components:e})):a.createElement(N,o({ref:n},m))}));function s(t,n){var e=arguments,l=n&&n.mdxType;if("string"==typeof t||l){var r=e.length,o=new Array(r);o[0]=d;var p={};for(var i in n)hasOwnProperty.call(n,i)&&(p[i]=n[i]);p.originalType=t,p.mdxType="string"==typeof t?t:l,o[1]=p;for(var k=2;k<r;k++)o[k]=e[k];return a.createElement.apply(null,o)}return a.createElement.apply(null,e)}d.displayName="MDXCreateElement"},79252:function(t,n,e){e.r(n),e.d(n,{assets:function(){return m},contentTitle:function(){return i},default:function(){return s},frontMatter:function(){return p},metadata:function(){return k},toc:function(){return u}});var a=e(83117),l=e(80102),r=(e(67294),e(3905)),o=["components"],p={sidebar_position:8},i=void 0,k={unversionedId:"Linux&Shell/Shell/\u6587\u672c\u5904\u7406",id:"Linux&Shell/Shell/\u6587\u672c\u5904\u7406",title:"\u6587\u672c\u5904\u7406",description:"\u6b63\u5219\u8868\u8fbe\u5f0f \u8bed\u6cd5\uff1a\u6b63\u5219\u8868\u8fbe\u5f0f",source:"@site/docs\\4-Linux&Shell\\Shell\\\u6587\u672c\u5904\u7406.md",sourceDirName:"4-Linux&Shell/Shell",slug:"/Linux&Shell/Shell/\u6587\u672c\u5904\u7406",permalink:"/learn/Linux&Shell/Shell/\u6587\u672c\u5904\u7406",draft:!1,tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8},sidebar:"tutorialSidebar",previous:{title:"\u51fd\u6570",permalink:"/learn/Linux&Shell/Shell/\u51fd\u6570"},next:{title:"DBeaver\u5feb\u6377\u952e",permalink:"/learn/DataBase/DBeaver/DBeaver\u5feb\u6377\u952e"}},m={},u=[{value:"1. cut\uff1a",id:"1-cut",level:2},{value:"2. Linux \u6587\u672c\u4e09\u5251\u5ba2\uff1a",id:"2-linux-\u6587\u672c\u4e09\u5251\u5ba2",level:2},{value:"1. grep\uff1a",id:"1-grep",level:3},{value:"2. sed\uff1a",id:"2-sed",level:3},{value:"3. awk\uff1a",id:"3-awk",level:3},{value:"1. awk \u53d8\u91cf\uff1a",id:"1-awk-\u53d8\u91cf",level:4},{value:"1. \u5185\u7f6e\u53d8\u91cf\uff1a",id:"1-\u5185\u7f6e\u53d8\u91cf",level:5},{value:"2. \u81ea\u5b9a\u4e49\u53d8\u91cf\uff1a",id:"2-\u81ea\u5b9a\u4e49\u53d8\u91cf",level:5},{value:"1. -v var=value",id:"1--v-varvalue",level:6},{value:"2. \u5728 program \u4e2d\u76f4\u63a5\u5b9a\u4e49",id:"2-\u5728-program-\u4e2d\u76f4\u63a5\u5b9a\u4e49",level:6},{value:"2. printf \u547d\u4ee4\uff08C\u8bed\u8a00\u7684 printf\uff09\uff1a",id:"2-printf-\u547d\u4ee4c\u8bed\u8a00\u7684-printf",level:4},{value:"1. \u683c\u5f0f\u5316\u8f93\u51fa\uff1a",id:"1-\u683c\u5f0f\u5316\u8f93\u51fa",level:5},{value:"2. \u683c\u5f0f\u7b26\uff1a\u4e0eitem \u4e00\u4e00\u5bf9\u5e94\uff1a",id:"2-\u683c\u5f0f\u7b26\u4e0eitem-\u4e00\u4e00\u5bf9\u5e94",level:5},{value:"3. \u4fee\u9970\u7b26\uff1a\u653e\u5728%c/d/e/f...\u4e4b\u95f4\uff1a",id:"3-\u4fee\u9970\u7b26\u653e\u5728cdef\u4e4b\u95f4",level:5},{value:"3. \u64cd\u4f5c\u7b26:",id:"3-\u64cd\u4f5c\u7b26",level:4},{value:"1. \u6a21\u5f0f\u5339\u914d\u7b26\uff1a",id:"1-\u6a21\u5f0f\u5339\u914d\u7b26",level:5},{value:"2. \u903b\u8f91\u64cd\u4f5c\u7b26\uff1a",id:"2-\u903b\u8f91\u64cd\u4f5c\u7b26",level:5},{value:"3. \u6761\u4ef6\u8868\u8fbe\u5f0f\uff08\u4e09\u5143\u8868\u8fbe\u5f0f\uff09\uff1a",id:"3-\u6761\u4ef6\u8868\u8fbe\u5f0f\u4e09\u5143\u8868\u8fbe\u5f0f",level:5},{value:"4. PATTERN \u5339\u914d\u90e8\u5206\uff08\u6b63\u5219\uff09",id:"4-pattern-\u5339\u914d\u90e8\u5206\u6b63\u5219",level:4},{value:"5. \u9ad8\u9636\u7528\u6cd5\uff1a",id:"5-\u9ad8\u9636\u7528\u6cd5",level:4},{value:"1. if \uff1a",id:"1-if-",level:5},{value:"2. while\uff1a",id:"2-while",level:5},{value:"3. do-while\uff1a",id:"3-do-while",level:5},{value:"4. for\uff1a",id:"4-for",level:5},{value:"5. \u548cshell\u811a\u672c\u4e2d\u8f83\u76f8\u4f3c\u7684\u63a7\u5236\u8bed\u53e5\uff1a",id:"5-\u548cshell\u811a\u672c\u4e2d\u8f83\u76f8\u4f3c\u7684\u63a7\u5236\u8bed\u53e5",level:5},{value:"1. switch\u8bed\u53e5\uff1a",id:"1-switch\u8bed\u53e5",level:6},{value:"2. break\u548ccontinue\uff1a",id:"2-break\u548ccontinue",level:6},{value:"3. next\uff1a",id:"3-next",level:6},{value:"6. \u6570\u7ec4\uff1a",id:"6-\u6570\u7ec4",level:5},{value:"2. \u6570\u503c\u5b57\u7b26\u4e32\u5904\u7406\uff1a",id:"2-\u6570\u503c\u5b57\u7b26\u4e32\u5904\u7406",level:6},{value:"3. \u81ea\u5b9a\u4e49\u51fd\u6570\uff1a",id:"3-\u81ea\u5b9a\u4e49\u51fd\u6570",level:6},{value:"4. awk\u4e2d\u8c03\u7528shell \u547d\u4ee4\uff1a",id:"4-awk\u4e2d\u8c03\u7528shell-\u547d\u4ee4",level:6}],d={toc:u};function s(t){var n=t.components,e=(0,l.Z)(t,o);return(0,r.kt)("wrapper",(0,a.Z)({},d,e,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"\u6b63\u5219\u8868\u8fbe\u5f0f \u8bed\u6cd5\uff1a",(0,r.kt)("a",{parentName:"p",href:"https://jellyrain.github.io/learn/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%88%E5%9F%BA%E7%A1%80%EF%BC%89/"},"\u6b63\u5219\u8868\u8fbe\u5f0f")),(0,r.kt)("h2",{id:"1-cut"},"1. cut\uff1a"),(0,r.kt)("p",null,"cut \u7684\u5de5\u4f5c\u5c31\u662f\u201c\u526a\u201d\uff0c\u5177\u4f53\u7684\u8bf4\u5c31\u662f\u5728\u6587\u4ef6\u4e2d\u8d1f\u8d23\u526a\u5207\u6570\u636e\u7528\u7684\u3002cut \u547d\u4ee4\u4ece\u6587\u4ef6\u7684\u6bcf \u4e00\u884c\u526a\u5207\u5b57\u8282\u3001\u5b57\u7b26\u548c\u5b57\u6bb5\u5e76\u5c06\u8fd9\u4e9b\u5b57\u8282\u3001\u5b57\u7b26\u548c\u5b57\u6bb5\u8f93\u51fa\u3002"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u57fa\u672c\u7528\u6cd5"),(0,r.kt)("p",{parentName:"li"},"cut ","[\u9009\u9879\u53c2\u6570]"," filename "),(0,r.kt)("p",{parentName:"li"},"\u8bf4\u660e\uff1a\u9ed8\u8ba4\u5206\u9694\u7b26\u662f\u5236\u8868\u7b26")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u9009\u9879\u53c2\u6570\u8bf4\u660e"),(0,r.kt)("table",{parentName:"li"},(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u9009\u9879\u53c2\u6570"),(0,r.kt)("th",{parentName:"tr",align:null},"\u529f\u80fd"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-f"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5217\u53f7\uff0c\u63d0\u53d6\u7b2c\u51e0\u5217")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-d"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5206\u9694\u7b26\uff0c\u6309\u7167\u6307\u5b9a\u5206\u9694\u7b26\u5206\u5272\u5217")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-c"),(0,r.kt)("td",{parentName:"tr",align:null},"\u6307\u5b9a\u5177\u4f53\u7684\u5b57\u7b26"))))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u793a\u4f8b"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'ifconfig ens32 | grep netmask | cut -d " " -f 10\n# \u6839\u636e\u7a7a\u683c\u5206\u7ec4 \u53d6\u7b2c10\u7ec4 \uff08\u4e0d\u4f1a\u591a\u4e2a\u7a7a\u683c\u7b97\u4e00\u4e2a\u7a7a\u683c\uff09\n\n192.168.231.128\n')))),(0,r.kt)("h2",{id:"2-linux-\u6587\u672c\u4e09\u5251\u5ba2"},"2. Linux \u6587\u672c\u4e09\u5251\u5ba2\uff1a"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u547d\u4ee4"),(0,r.kt)("th",{parentName:"tr",align:null},"\u7279\u70b9"),(0,r.kt)("th",{parentName:"tr",align:null},"\u7279\u70b9"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"grep"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8fc7\u6ee4"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8fc7\u6ee4\u901f\u5ea6\u6700\u5feb")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"sed"),(0,r.kt)("td",{parentName:"tr",align:null},"\u66ff\u6362/\u4fee\u6539\u5185\u5bb9\uff0c\u53d6\u884c"),(0,r.kt)("td",{parentName:"tr",align:null},"\u66ff\u6362/\u4fee\u6539\u5185\u5bb9\uff0c\u53d6\u51fa\u8303\u56f4\u5185\u5bb9")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"awk"),(0,r.kt)("td",{parentName:"tr",align:null},"\u53d6\u5217\uff0c\u7edf\u8ba1\u8ba1\u7b97"),(0,r.kt)("td",{parentName:"tr",align:null},"\u53d6\u5217\uff0c\u5bf9\u6bd4\uff0c\u7edf\u8ba1\u8ba1\u7b97")))),(0,r.kt)("h3",{id:"1-grep"},"1. grep\uff1a"),(0,r.kt)("p",null,"grep\u547d\u4ee4\u662f\u4e00\u79cd\u5f3a\u5927\u7684\u6587\u672c\u641c\u7d22\u5de5\u5177\uff0c\u5b83\u80fd\u4f7f\u7528",(0,r.kt)("strong",{parentName:"p"},"\u6b63\u5219\u8868\u8fbe\u5f0f"),"\u641c\u7d22\u6587\u672c\uff0c\u5e76\u628a\u5339\u914d\u7684\u884c\u6253\u5370\u51fa\u6765\uff08",(0,r.kt)("strong",{parentName:"p"},"\u5339\u914d\u5230\u7684\u6807\u7ea2"),"\uff09"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"grep [option] pattern file\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570\uff08option\uff09"),(0,r.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-A<\u663e\u793a\u884c\u6570>"),(0,r.kt)("td",{parentName:"tr",align:null},"\u9664\u4e86\u663e\u793a\u7b26\u5408\u8303\u672c\u6837\u5f0f\u7684\u90a3\u4e00\u5217\u4e4b\u5916\uff0c\u5e76\u663e\u793a\u8be5\u884c\u4e4b\u540e\u7684\u5185\u5bb9")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-B<\u663e\u793a\u884c\u6570>"),(0,r.kt)("td",{parentName:"tr",align:null},"\u9664\u4e86\u663e\u793a\u7b26\u5408\u6837\u5f0f\u7684\u90a3\u4e00\u884c\u4e4b\u5916\uff0c\u5e76\u663e\u793a\u8be5\u884c\u4e4b\u524d\u7684\u5185\u5bb9")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-C<\u663e\u793a\u884c\u6570>"),(0,r.kt)("td",{parentName:"tr",align:null},"\u9664\u4e86\u663e\u793a\u7b26\u5408\u6837\u5f0f\u7684\u90a3\u4e00\u884c\u4e4b\u5916\uff0c\u5e76\u663e\u793a\u8be5\u884c\u4e4b\u524d\u540e\u7684\u5185\u5bb9")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-c"),(0,r.kt)("td",{parentName:"tr",align:null},"\u4ec5\u5217\u51fa\u7edf\u8ba1\u5339\u914d\u7684\u884c\u6570")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-e"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5b9e\u73b0\u591a\u4e2a\u9009\u9879\u95f4\u7684\u903b\u8f91or \u5173\u7cfb")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-E"),(0,r.kt)("td",{parentName:"tr",align:null},"\u6269\u5c55\u7684\u6b63\u5219\u8868\u8fbe\u5f0f")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-P"),(0,r.kt)("td",{parentName:"tr",align:null},"\u53ef\u4ee5\u8ba9grep\u4f7f\u2f64perl\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u8bed\u6cd5\uff08\u5b8c\u6574\u4f53\u6b63\u5219\uff09")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-i"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5ffd\u7565\u5b57\u7b26\u5927\u5c0f\u5199")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-n"),(0,r.kt)("td",{parentName:"tr",align:null},"\u663e\u793a\u5339\u914d\u7684\u884c\u53f7")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-o"),(0,r.kt)("td",{parentName:"tr",align:null},"\u4ec5\u663e\u793a\u5339\u914d\u5230\u7684\u5b57\u7b26\u4e32")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-v"),(0,r.kt)("td",{parentName:"tr",align:null},"\u663e\u793a\u4e0d\u88abpattern \u5339\u914d\u5230\u7684\u884c\uff0c\u76f8\u5f53\u4e8e[^] \u53cd\u5411\u5339\u914d")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-w"),(0,r.kt)("td",{parentName:"tr",align:null},"\u628a\u8868\u8fbe\u5f0f\u5f53\u505a\u4e00\u4e2a\u5b8c\u6574\u7684\u5355\u5b57\u7b26\u6765\u641c\u5bfb\uff0c\u5ffd\u7565\u90a3\u4e9b\u90e8\u5206\u5339\u914d\u7684\u884c")))),(0,r.kt)("h3",{id:"2-sed"},"2. sed\uff1a"),(0,r.kt)("p",null,"sed \u662f\u4e00\u79cd\u6d41\u7f16\u8f91\u5668\uff0c\u5b83\u4e00\u6b21\u5904\u7406\u4e00",(0,r.kt)("strong",{parentName:"p"},"\u884c"),"\u5185\u5bb9\u3002\u5904\u7406\u65f6\uff0c\u628a\u5f53\u524d\u5904\u7406\u7684\u884c\u5b58\u50a8\u5728\u4e34\u65f6\u7f13\u51b2\u533a\u4e2d\uff0c\u79f0\u4e3a\u201c",(0,r.kt)("strong",{parentName:"p"},"\u6a21\u5f0f\u7a7a\u95f4"),"\u201d\uff08patternspace \uff09\uff0c\u63a5\u7740\u7528sed \u547d\u4ee4\u5904\u7406\u7f13\u51b2\u533a\u4e2d\u7684\u5185\u5bb9\uff0c\u5904\u7406\u5b8c\u6210\u540e\uff0c\u628a\u7f13\u51b2\u533a\u7684\u5185\u5bb9\u9001\u5f80\u5c4f\u5e55\u3002\u7136\u540e\u8bfb\u5165\u4e0b\u884c\uff0c\u6267\u884c\u4e0b\u4e00\u4e2a\u5faa\u73af"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"sed [options] '[\u5730\u5740\u5b9a\u754c] command' file(s)\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570\uff08options\uff09"),(0,r.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-n"),(0,r.kt)("td",{parentName:"tr",align:null},"\u4e0d\u8f93\u51fa\u6a21\u5f0f\u7a7a\u95f4\u5185\u5bb9\u5230\u5c4f\u5e55\uff0c\u5373\u4e0d\u81ea\u52a8\u6253\u5370\uff0c\u53ea\u6253\u5370\u5339\u914d\u5230\u7684\u884c")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-e"),(0,r.kt)("td",{parentName:"tr",align:null},"\u591a\u70b9\u7f16\u8f91\uff0c\u5bf9\u6bcf\u884c\u5904\u7406\u65f6\uff0c\u53ef\u4ee5\u6709\u591a\u4e2aScript")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-f"),(0,r.kt)("td",{parentName:"tr",align:null},"\u628aScript\u5199\u5230\u6587\u4ef6\u5f53\u4e2d\uff0c\u5728\u6267\u884csed\u65f6-f \u6307\u5b9a\u6587\u4ef6\u8def\u5f84\uff0c\u5982\u679c\u662f\u591a\u4e2aScript\uff0c\u6362\u884c\u5199")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-r"),(0,r.kt)("td",{parentName:"tr",align:null},"\u652f\u6301",(0,r.kt)("strong",{parentName:"td"},"\u6269\u5c55\u7684\u6b63\u5219"),"\u8868\u8fbe\u5f0f")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-i"),(0,r.kt)("td",{parentName:"tr",align:null},"\u76f4\u63a5\u5c06\u5904\u7406\u7684\u7ed3\u679c\u5199\u5165\u6587\u4ef6")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-i.bak"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5728\u5c06\u5904\u7406\u7684\u7ed3\u679c\u5199\u5165\u6587\u4ef6\u4e4b\u524d\u5907\u4efd\u4e00\u4efd")))),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u5730\u5740\u5b9a\u754c"),(0,r.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"\u4e0d\u7ed9\u5730\u5740"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5bf9\u5168\u6587\u8fdb\u884c\u5904\u7406")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"#"),(0,r.kt)("td",{parentName:"tr",align:null},"\u6307\u5b9a\u7684\u884c")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"$"),(0,r.kt)("td",{parentName:"tr",align:null},"\u6700\u540e\u4e00\u884c")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"/pattern/"),(0,r.kt)("td",{parentName:"tr",align:null},"\u88ab\u6b64\u5904\u6a21\u5f0f\u6240\u80fd\u591f\u5339\u914d\u5230\u7684\u6bcf\u4e00\u884c")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"#",",#"),(0,r.kt)("td",{parentName:"tr",align:null},"\u884c \u5230 \u884c")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"#",",$#"),(0,r.kt)("td",{parentName:"tr",align:null},"\u884c \u5230 \u6700\u540e\u4e00\u884c")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"/pattern/,/pattern/"),(0,r.kt)("td",{parentName:"tr",align:null},"\u6b63\u5219\u5339\u914d \u5230 \u6b63\u5219\u5339\u914d")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"#",",/pattern/"),(0,r.kt)("td",{parentName:"tr",align:null},"\u884c \u5230 \u6b63\u5219\u5339\u914d")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"~"),(0,r.kt)("td",{parentName:"tr",align:null},"\u6b65\u8fdb \uff08",(0,r.kt)("strong",{parentName:"td"},"1~2p"),"\uff09\uff08\u4ece\u7b2c1\u884c\uff0c\u4e00\u6b21\u52a02\u884c\uff09")))),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u7f16\u8f91\u547d\u4ee4\uff08command\uff09"),(0,r.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"d"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"\u5220\u9664"),"\u6a21\u5f0f\u7a7a\u95f4\u5339\u914d\u7684\u884c\uff0c\u5e76\u7acb\u5373\u542f\u7528\u4e0b\u4e00\u8f6e\u5faa\u73af")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"p"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"\u6253\u5370"),"\u5f53\u524d\u6a21\u5f0f\u7a7a\u95f4\u5185\u5bb9\uff0c\u8ffd\u52a0\u5230\u9ed8\u8ba4\u8f93\u51fa\u4e4b\u540e")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"a"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5728\u6307\u5b9a\u884c",(0,r.kt)("strong",{parentName:"td"},"\u540e\u9762\u8ffd\u52a0"),"\u6587\u672c\uff0c\u652f\u6301\u4f7f\u7528\\n\u5b9e\u73b0\u591a\u884c\u8ffd\u52a0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"i"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5728\u884c",(0,r.kt)("strong",{parentName:"td"},"\u524d\u9762\u63d2\u5165"),"\u6587\u672c\uff0c\u652f\u6301\u4f7f\u7528\\n\u5b9e\u73b0\u591a\u884c\u8ffd\u52a0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"c"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"\u66ff\u6362"),"\u884c\u4e3a\u5355\u884c\u6216\u591a\u884c\u6587\u672c\uff0c\u652f\u6301\u4f7f\u7528\\n\u5b9e\u73b0\u591a\u884c\u8ffd\u52a0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"w"),(0,r.kt)("td",{parentName:"tr",align:null},"\u4fdd\u5b58\u6a21\u5f0f\u5339\u914d\u7684\u884c\u81f3\u6307\u5b9a\u6587\u4ef6")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"r"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8bfb\u53d6\u6307\u5b9a\u6587\u4ef6\u7684\u6587\u672c\u81f3\u6a21\u5f0f\u7a7a\u95f4\u4e2d\u5339\u914d\u5230\u7684\u884c\u540e")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"="),(0,r.kt)("td",{parentName:"tr",align:null},"\u4e3a\u6a21\u5f0f\u7a7a\u95f4\u4e2d\u7684\u884c\u6253\u5370\u884c\u53f7")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"!"),(0,r.kt)("td",{parentName:"tr",align:null},"\u6a21\u5f0f\u7a7a\u95f4\u4e2d\u5339\u914d\u884c",(0,r.kt)("strong",{parentName:"td"},"\u53d6\u53cd"),"\u5904\u7406")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u7f16\u8f91\u547d\u4ee4\uff08command\uff09"),"\uff1a"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"s///"),"\uff1a",(0,r.kt)("strong",{parentName:"p"},"\u67e5\u627e\u66ff\u6362"),"\uff0c\u652f\u6301\u4f7f\u7528\u5176\u5b83\u5206\u9694\u7b26\uff0c\u5982\uff1as@@@\uff0cs###\uff1b"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"g\uff1a\u8868\u793a\u884c\u5185\u5168\u5c40\u66ff\u6362"),(0,r.kt)("p",{parentName:"li"},"\u5728\u66ff\u6362\u65f6\uff0c\u53ef\u4ee5\u52a0\u4e00\u4e0b\u547d\u4ee4\uff0c\u5b9e\u73b0\u5927\u5c0f\u5199\u8f6c\u6362")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\\l\uff1a\u628a\u4e0b\u4e2a\u5b57\u7b26\u8f6c\u6362\u6210\u5c0f\u5199")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\\L\uff1a\u628areplacement\u5b57\u6bcd\u8f6c\u6362\u6210\u5c0f\u5199\uff0c\u76f4\u5230\\U\u6216\\E\u51fa\u73b0")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\\u\uff1a\u628a\u4e0b\u4e2a\u5b57\u7b26\u8f6c\u6362\u6210\u5927\u5199")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\\U\uff1a\u628areplacement\u5b57\u6bcd\u8f6c\u6362\u6210\u5927\u5199\uff0c\u76f4\u5230\\L\u6216\\E\u51fa\u73b0")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\\E\uff1a\u505c\u6b62\u4ee5\\L\u6216\\U\u5f00\u59cb\u7684\u5927\u5c0f\u5199\u8f6c\u6362"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"\u5c06sed.txt\u6587\u4ef6\u4e2d\u7684\u7b2c\u4e8c\u884c\u5220\u9664\u5e76\u5c06wo\u66ff\u6362\u4e3ani\n\nsed -e '2d' -e 's#wo#ni#g' sed.txt\n")),(0,r.kt)("p",null,"\u6ce8\u610f\uff1a"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u4f7f\u7528\u8303\u56f4\u65f6\uff0c\u5982\u679c\u540e\u8303\u56f4\u4e0d\u5b58\u5728 \u5c31\u904d\u5386\u5230\u6700\u540e\u4e00\u884c ")),(0,r.kt)("h3",{id:"3-awk"},"3. awk\uff1a"),(0,r.kt)("p",null,"awk\u662f\u4e00\u79cd\u7f16\u7a0b\u8bed\u8a00\uff0c\u7528\u4e8e\u5728linux/unix\u4e0b\u5bf9\u6587\u672c\u548c\u6570\u636e\u8fdb\u884c\u5904\u7406\u3002\u6570\u636e\u53ef\u4ee5\u6765\u81ea\u6807\u51c6\u8f93\u5165(stdin)\u3001\u4e00\u4e2a\u6216\u591a\u4e2a\u6587\u4ef6\uff0c\u6216\u5176\u5b83\u547d\u4ee4\u7684\u8f93\u51fa\u3002\u5b83",(0,r.kt)("strong",{parentName:"p"},"\u652f\u6301\u7528\u6237\u81ea\u5b9a\u4e49\u51fd\u6570"),"\u548c\u52a8\u6001\u6b63\u5219\u8868\u8fbe\u5f0f\u7b49\u5148\u8fdb\u529f\u80fd\uff0c\u662flinux/unix\u4e0b\u7684\u4e00\u4e2a\u5f3a\u5927\u7f16\u7a0b\u5de5\u5177\u3002\u5b83\u5728\u547d\u4ee4\u884c\u4e2d\u4f7f\u7528\uff0c\u4f46\u66f4\u591a\u662f\u4f5c\u4e3a\u811a\u672c\u6765\u4f7f\u7528\u3002",(0,r.kt)("strong",{parentName:"p"},"awk\u6709\u5f88\u591a\u5185\u5efa\u7684\u529f\u80fd"),"\uff0c\u6bd4\u5982\u6570\u7ec4\u3001\u51fd\u6570\u7b49\uff0c\u8fd9\u662f\u5b83\u548cC\u8bed\u8a00\u7684\u76f8\u540c\u4e4b\u5904\uff0c\u7075\u6d3b\u6027\u662fawk\u6700\u5927\u7684\u4f18\u52bf"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"awk [options] 'program' var=value file\u2026\nawk [options] -f programfile var=value file\u2026\nawk [options] 'BEGIN{ action;\u2026 } pattern{ action;\u2026 } END{ action;\u2026 }' file ...\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570\uff08options\uff09"),(0,r.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-F fs"),(0,r.kt)("td",{parentName:"tr",align:null},"fs\u6307\u5b9a\u8f93\u5165\u5206\u9694\u7b26\uff0cfs\u53ef\u4ee5\u662f\u5b57\u7b26\u4e32\u6216\u6b63\u5219\u8868\u8fbe\u5f0f")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-v var=value"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8d4b\u503c\u4e00\u4e2a\u7528\u6237\u5b9a\u4e49\u53d8\u91cf\uff0c\u5c06\u5916\u90e8\u53d8\u91cf\u4f20\u9012\u7ed9awk")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"-f scripfile"),(0,r.kt)("td",{parentName:"tr",align:null},"\u4ece\u811a\u672c\u6587\u4ef6\u4e2d\u8bfb\u53d6awk\u547d\u4ee4")))),(0,r.kt)("h4",{id:"1-awk-\u53d8\u91cf"},"1. awk \u53d8\u91cf\uff1a"),(0,r.kt)("h5",{id:"1-\u5185\u7f6e\u53d8\u91cf"},"1. \u5185\u7f6e\u53d8\u91cf\uff1a"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u53d8\u91cf"),(0,r.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"FS")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"\u8f93\u5165\u5b57\u6bb5\u5206\u9694\u7b26\uff0c\u9ed8\u8ba4\u4e3a\u7a7a\u767d\u5b57\u7b26"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"OFS")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"\u8f93\u51fa\u5b57\u6bb5\u5206\u9694\u7b26"),"\uff0c\u9ed8\u8ba4\u4e3a\u7a7a\u767d\u5b57\u7b26")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"RS"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"\u8f93\u5165\u8bb0\u5f55\u5206\u9694\u7b26"),"\uff0c\u6307\u5b9a\u8f93\u5165\u65f6\u7684\u6362\u884c\u7b26\uff0c\u539f\u6362\u884c\u7b26\u4ecd\u6709\u6548")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ORS"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"\u8f93\u51fa\u8bb0\u5f55\u5206\u9694\u7b26"),"\uff0c\u8f93\u51fa\u65f6\u7528\u6307\u5b9a\u7b26\u53f7\u4ee3\u66ff\u6362\u884c\u7b26")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"NF")),(0,r.kt)("td",{parentName:"tr",align:null},"\u5b57\u6bb5\u6570\u91cf\uff0c\u5171\u6709\u591a\u5c11\u5b57\u6bb5\uff0c ",(0,r.kt)("strong",{parentName:"td"},"$NF\u5f15\u7528\u6700\u540e\u4e00\u5217\uff0c$(NF-1)\u5f15\u7528\u5012\u6570\u7b2c2\u5217"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"NR")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"\u884c\u53f7"),"\uff0c\u540e\u53ef\u8ddf\u591a\u4e2a\u6587\u4ef6\uff0c\u7b2c\u4e8c\u4e2a\u6587\u4ef6\u884c\u53f7\u7ee7\u7eed\u4ece\u7b2c\u4e00\u4e2a\u6587\u4ef6\u6700\u540e\u884c\u53f7\u5f00\u59cb")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"FNR"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5404\u6587\u4ef6\u5206\u522b\u8ba1\u6570, \u884c\u53f7\uff0c\u540e\u8ddf\u4e00\u4e2a\u6587\u4ef6\u548cNR\u4e00\u6837\uff0c\u8ddf\u591a\u4e2a\u6587\u4ef6\uff0c\u7b2c\u4e8c\u4e2a\u6587\u4ef6",(0,r.kt)("strong",{parentName:"td"},"\u884c\u53f7\u4ece1\u5f00\u59cb"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"FILENAME"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"\u5f53\u524d\u6587\u4ef6\u540d"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ARGC"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"\u547d\u4ee4\u884c\u53c2\u6570"),"\u7684\u4e2a\u6570")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ARGV"),(0,r.kt)("td",{parentName:"tr",align:null},"\u6570\u7ec4\uff0c\u4fdd\u5b58\u7684\u662f\u547d\u4ee4\u884c\u6240\u7ed9\u5b9a\u7684\u5404\u53c2\u6570\uff0c",(0,r.kt)("strong",{parentName:"td"},"\u67e5\u770b\u53c2\u6570"))))),(0,r.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"[root@along ~]# cat awkdemo\nhello:world\nlinux:redhat:lalala:hahaha\nalong:love:youou\n[root@along ~]# awk -v FS=':' '{print $1,$2}' awkdemo  #FS\u6307\u5b9a\u8f93\u5165\u5206\u9694\u7b26\nhello world\nlinux redhat\nalong love\n[root@along ~]# awk -v FS=':' -v OFS='---' '{print $1,$2}' awkdemo  #OFS\u6307\u5b9a\u8f93\u51fa\u5206\u9694\u7b26\nhello---world\nlinux---redhat\nalong---love\n[root@along ~]# awk -v RS=':' '{print $1,$2}' awkdemo\nhello\nworld linux\nredhat\nlalala\nhahaha along\nlove\nyou\n[root@along ~]# awk -v FS=':' -v ORS='---' '{print $1,$2}' awkdemo\nhello world---linux redhat---along love---\n[root@along ~]# awk -F: '{print NF}' awkdemo\n2\n4\n3\n[root@along ~]# awk -F: '{print $(NF-1)}' awkdemo  #\u663e\u793a\u5012\u6570\u7b2c2\u5217\nhello\nlalala\nlove\n")),(0,r.kt)("h5",{id:"2-\u81ea\u5b9a\u4e49\u53d8\u91cf"},"2. \u81ea\u5b9a\u4e49\u53d8\u91cf\uff1a"),(0,r.kt)("p",null,"\u81ea\u5b9a\u4e49\u53d8\u91cf\uff08\u533a\u5206\u5b57\u7b26\u5927\u5c0f\u5199\uff09"),(0,r.kt)("h6",{id:"1--v-varvalue"},"1. -v var=value"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'\u2460 \u5148\u5b9a\u4e49\u53d8\u91cf\uff0c\u540e\u6267\u884c\u52a8\u4f5cprint\n[root@along ~]# awk -v name="along" -F: \'{print name":"$0}\' awkdemo\nalong:hello:world\nalong:linux:redhat:lalala:hahaha\nalong:along:love:you\n\n\u2461 \u5728\u6267\u884c\u52a8\u4f5cprint\u540e\u5b9a\u4e49\u53d8\u91cf (\u9996\u884c\u65e0\u6548)\n[root@along ~]# awk -F: \'{print name":"$0;name="along"}\' awkdemo\n:hello:world\nalong:linux:redhat:lalala:hahaha\nalong:along:love:you\n')),(0,r.kt)("h6",{id:"2-\u5728-program-\u4e2d\u76f4\u63a5\u5b9a\u4e49"},"2. \u5728 program \u4e2d\u76f4\u63a5\u5b9a\u4e49"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'\u53ef\u4ee5\u628a\u6267\u884c\u7684\u52a8\u4f5c\u653e\u5728\u811a\u672c\u4e2d\uff0c\u76f4\u63a5\u8c03\u7528\u811a\u672c -f\n[root@along ~]# cat awk.txt\n{name="along";print name,$1}\n[root@along ~]# awk -F: -f awk.txt awkdemo\nalong hello\nalong linux\nalong along\n')),(0,r.kt)("h4",{id:"2-printf-\u547d\u4ee4c\u8bed\u8a00\u7684-printf"},"2. printf \u547d\u4ee4\uff08C\u8bed\u8a00\u7684 printf\uff09\uff1a"),(0,r.kt)("h5",{id:"1-\u683c\u5f0f\u5316\u8f93\u51fa"},"1. \u683c\u5f0f\u5316\u8f93\u51fa\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'printf "FORMAT", item1,item2, ...\n')),(0,r.kt)("p",null,"\u2460  \u5fc5\u987b\u6307\u5b9aFORMAT"),(0,r.kt)("p",null,"\u2461  ",(0,r.kt)("strong",{parentName:"p"},"\u4e0d\u4f1a\u81ea\u52a8\u6362\u884c\uff0c\u9700\u8981\u663e\u5f0f\u7ed9\u51fa\u6362\u884c\u63a7\u5236\u7b26\uff0c\\n")),(0,r.kt)("p",null,"\u2462  FORMAT \u4e2d\u9700\u8981\u5206\u522b\u4e3a\u540e\u9762\u6bcf\u4e2aitem \u6307\u5b9a\u683c\u5f0f\u7b26"),(0,r.kt)("h5",{id:"2-\u683c\u5f0f\u7b26\u4e0eitem-\u4e00\u4e00\u5bf9\u5e94"},"2. \u683c\u5f0f\u7b26\uff1a\u4e0eitem \u4e00\u4e00\u5bf9\u5e94\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"%c:  \u663e\u793a\u5b57\u7b26\u7684ASCII\u7801"),(0,r.kt)("li",{parentName:"ul"},"%d, %i:  \u663e\u793a\u5341\u8fdb\u5236\u6574\u6570"),(0,r.kt)("li",{parentName:"ul"},"%e, %E: \u663e\u793a\u79d1\u5b66\u8ba1\u6570\u6cd5\u6570\u503c"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"%f \uff1a\u663e\u793a\u4e3a\u6d6e\u70b9\u6570\uff0c\u5c0f\u6570"),"  %5.1f\uff0c\u5e26\u6574\u6570\u3001\u5c0f\u6570\u70b9\u3001\u6574\u6570\u51715\u4f4d\uff0c\u5c0f\u65701\u4f4d\uff0c\u4e0d\u591f\u7528\u7a7a\u683c\u8865\u4e0a"),(0,r.kt)("li",{parentName:"ul"},"%g, %G \uff1a\u4ee5\u79d1\u5b66\u8ba1\u6570\u6cd5\u6216\u6d6e\u70b9\u5f62\u5f0f\u663e\u793a\u6570\u503c"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"%s \uff1a\u663e\u793a\u5b57\u7b26\u4e32"),"\uff1b\u4f8b\uff1a%5s\u6700\u5c115\u4e2a\u5b57\u7b26\uff0c\u4e0d\u591f\u7528\u7a7a\u683c\u8865\u4e0a\uff0c\u8d85\u8fc75\u4e2a\u8fd8\u7ee7\u7eed\u663e\u793a"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"%u \uff1a\u65e0\u7b26\u53f7\u6574\u6570")),(0,r.kt)("li",{parentName:"ul"},"%%:  \u663e\u793a% \u81ea\u8eab")),(0,r.kt)("h5",{id:"3-\u4fee\u9970\u7b26\u653e\u5728cdef\u4e4b\u95f4"},"3. \u4fee\u9970\u7b26\uff1a\u653e\u5728%c","[/d/e/f...]","\u4e4b\u95f4\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"#","[.#]","\uff1a\u7b2c\u4e00\u4e2a\u6570\u5b57\u63a7\u5236\u663e\u793a\u7684\u5bbd\u5ea6\uff1b\u7b2c\u4e8c\u4e2a# \u8868\u793a\u5c0f\u6570\u70b9\u540e\u7cbe\u5ea6\uff0c%5.1f"),(0,r.kt)("li",{parentName:"ul"},"-\uff1a\u5de6\u5bf9\u9f50\uff08",(0,r.kt)("strong",{parentName:"li"},"\u9ed8\u8ba4\u53f3\u5bf9\u9f50"),"\uff09 %-15s"),(0,r.kt)("li",{parentName:"ul"},"+\uff1a\u663e\u793a\u6570\u503c\u7684\u6b63\u8d1f\u7b26\u53f7 %+d")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"[root@along ~]# awk -F: '{print $1,$3}' /etc/passwd\nroot 0\nbin 1\n---\u7b2c\u4e00\u5217\u663e\u793a\u5c0f\u4e8e20\u7684\u5b57\u7b26\u4e32\uff1b\u7b2c2\u5217\u663e\u793a\u6574\u6570\u5e76\u6362\u884c\n[root@along ~]# awk -F: '{printf \"%20s---%u\\n\",$1,$3}' /etc/passwd\n                root---0\n                 bin---1\n---\u4f7f\u7528-\u8fdb\u884c\u5de6\u5bf9\u9f50\uff1b\u7b2c2\u5217\u663e\u793a\u6d6e\u70b9\u6570\n[root@along ~]# awk -F: '{printf \"%-20s---%-10.3f\\n\",$1,$3}' /etc/passwd\nroot                ---0.000    \nbin                 ---1.000\n---\u4f7f\u7528printf\u505a\u8868\u683c\n[root@along ~]# awk -F: 'BEGIN{printf \"username            userid\\n-----------------------------\\n\"}{printf \"%-20s|%-10.3f\\n\",$1,$3}' /etc/passwd\nusername            userid\n-----------------------------\nroot                |0.000    \nbin                 |1.000\n")),(0,r.kt)("h4",{id:"3-\u64cd\u4f5c\u7b26"},"3. \u64cd\u4f5c\u7b26:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"}," \u7b97\u672f\u64cd\u4f5c\u7b26\uff1a\n    x+y, x-y, x*y, x/y, x^y, x%y\n    -x:  \u8f6c\u6362\u4e3a\u8d1f\u6570\n    +x:  \u8f6c\u6362\u4e3a\u6570\u503c\n    \n \u5b57\u7b26\u4e32\u64cd\u4f5c\u7b26\uff1a\u6ca1\u6709\u7b26\u53f7\u7684\u64cd\u4f5c\u7b26\uff0c\u5b57\u7b26\u4e32\u8fde\u63a5\n \u8d4b\u503c\u64cd\u4f5c\u7b26\uff1a\n    =, +=, -=, *=, /=, %=, ^=\n    ++, --\n    \n \u6bd4\u8f83\u64cd\u4f5c\u7b26\uff1a\n    ==, !=, >, >=, <, <=\n \n \u6a21\u5f0f\u5339\u914d\u7b26\uff1a~ \uff1a\u5de6\u8fb9\u662f\u5426\u548c\u53f3\u8fb9\u5339\u914d\u5305\u542b !~ \uff1a\u662f\u5426\u4e0d\u5339\u914d ($0 \u4ee3\u8868\u6574\u884c)\n \n \u903b\u8f91\u64cd\u4f5c\u7b26\uff1a\u4e0e && \uff0c\u6216 || \uff0c\u975e !\n \n \u51fd\u6570\u8c03\u7528\uff1a function_name(argu1, argu2, ...)\n \n \u6761\u4ef6\u8868\u8fbe\u5f0f\uff08\u4e09\u5143\u8868\u8fbe\u5f0f\uff09\uff1aselector?if-true-expression:if-false-expression\n    \n    \u6ce8\u91ca\uff1a\u5148\u5224\u65adselector\uff0c\u5982\u679c\u7b26\u5408\u6267\u884c ? \u540e\u7684\u64cd\u4f5c\uff1b\u5426\u5219\u6267\u884c : \u540e\u7684\u64cd\u4f5c\n")),(0,r.kt)("h5",{id:"1-\u6a21\u5f0f\u5339\u914d\u7b26"},"1. \u6a21\u5f0f\u5339\u914d\u7b26\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"---\u67e5\u8be2\u4ee5/dev\u5f00\u5934\u7684\u78c1\u76d8\u4fe1\u606f\n[root@along ~]# df -h |awk -F: '$0 ~ /^\\/dev/'\n/dev/mapper/cl-root   17G  7.3G  9.7G  43% /\n/dev/sda1           1014M  121M  894M  12% /boot\n\n---\u53ea\u663e\u793a\u78c1\u76d8\u4f7f\u7528\u72b6\u51b5\u548c\u78c1\u76d8\u540d\n[root@along ~]# df -h |awk '$0 ~ /^\\/dev/{print $(NF-1)\"---\"$1}'\n43%---/dev/mapper/cl-root\n12%---/dev/sda1\n\n---\u67e5\u627e\u78c1\u76d8\u5927\u4e8e40%\u7684\n[root@along ~]# df -h |awk '$0 ~ /^\\/dev/{print $(NF-1)\"---\"$1}' | awk -F% '$1 > 40'\n43%---/dev/mapper/cl-root\n")),(0,r.kt)("h5",{id:"2-\u903b\u8f91\u64cd\u4f5c\u7b26"},"2. \u903b\u8f91\u64cd\u4f5c\u7b26\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"[root@along ~]# awk -F: '$3>=0 && $3<=1000 {print $1,$3}' /etc/passwd\nroot 0\nbin 1\n\n[root@along ~]# awk -F: '$3==0 || $3>=1000 {print $1}' /etc/passwd\nroot\n\n[root@along ~]# awk -F: '!($3==0) {print $1}' /etc/passwd\nbin\n\n[root@along ~]# awk -F: '!($0 ~ /bash$/) {print $1,$3}' /etc/passwd\nbin 1\ndaemon 2\n")),(0,r.kt)("h5",{id:"3-\u6761\u4ef6\u8868\u8fbe\u5f0f\u4e09\u5143\u8868\u8fbe\u5f0f"},"3. \u6761\u4ef6\u8868\u8fbe\u5f0f\uff08\u4e09\u5143\u8868\u8fbe\u5f0f\uff09\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'[root@along ~]# awk -F: \'{$3 >= 1000?usertype="common user":usertype="sysadmin user";print usertype,$1,$3}\' /etc/passwd\nsysadmin user root 0\ncommon user along 1000\n')),(0,r.kt)("h4",{id:"4-pattern-\u5339\u914d\u90e8\u5206\u6b63\u5219"},"4. PATTERN \u5339\u914d\u90e8\u5206\uff08\u6b63\u5219\uff09"),(0,r.kt)("p",null,"PATTERN\uff1a\u6839\u636epattern \u6761\u4ef6\uff0c\u8fc7\u6ee4\u5339\u914d\u7684\u884c\uff0c\u518d\u505a\u5904\u7406"),(0,r.kt)("p",null,"\uff081\uff09\u5982\u679c\u672a\u6307\u5b9a\uff1a\u7a7a\u6a21\u5f0f\uff0c\u5339\u914d\u6bcf\u4e00\u884c"),(0,r.kt)("p",null,"\uff082\uff09/regular expression/ \uff1a\u4ec5\u5904\u7406\u80fd\u591f\u6a21\u5f0f\u5339\u914d\u5230\u7684\u884c\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u6b63\u5219"),"\uff0c\u9700\u8981\u7528/ / \u62ec\u8d77\u6765"),(0,r.kt)("p",null,"\uff083\uff09relational expression\uff1a",(0,r.kt)("strong",{parentName:"p"},"\u5173\u7cfb\u8868\u8fbe\u5f0f\uff0c\u7ed3\u679c\u4e3a\u201c\u771f\u201d\u624d\u4f1a\u88ab\u5904\u7406")),(0,r.kt)("p",null,"\u771f\uff1a\u7ed3\u679c\u4e3a\u975e0\u503c\uff0c\u975e\u7a7a\u5b57\u7b26\u4e32"),(0,r.kt)("p",null,"\u5047\uff1a\u7ed3\u679c\u4e3a\u7a7a\u5b57\u7b26\u4e32\u62160\u503c"),(0,r.kt)("p",null,"\uff084\uff09line ranges\uff1a\u884c\u8303\u56f4"),(0,r.kt)("p",null,"\u3000\u3000startline(\u8d77\u59cb\u884c),endline(\u7ed3\u675f\u884c)\uff1a/pat1/,/pat2/  \u4e0d\u652f\u6301\u76f4\u63a5\u7ed9\u51fa\u6570\u5b57\uff0c\u53ef\u4ee5\u6709\u591a\u6bb5\uff0c\u4e2d\u95f4\u53ef\u4ee5\u6709\u95f4\u9694"),(0,r.kt)("p",null,"\uff085\uff09BEGIN/END \u6a21\u5f0f"),(0,r.kt)("p",null,"\u3000\u3000BEGIN{}:  \u4ec5\u5728\u5f00\u59cb\u5904\u7406\u6587\u4ef6\u4e2d\u7684\u6587\u672c\u4e4b\u524d\u6267\u884c\u4e00\u6b21"),(0,r.kt)("p",null,"\u3000\u3000END{} \uff1a\u4ec5\u5728\u6587\u672c\u5904\u7406\u5b8c\u6210\u4e4b\u540e\u6267\u884c"),(0,r.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"[root@along ~]# awk -F: '{print $1}' awkdemo\nhello\nlinux\nalong\n\n[root@along ~]# awk -F: '/along/{print $1}' awkdemo\nalong\n\n[root@along ~]# awk -F: '1{print $1}' awkdemo\nhello\nlinux\nalong\n\n[root@along ~]# awk -F: '0{print $1}' awkdemo\n\n[root@along ~]# awk -F: '/^h/,/^a/{print $1}' awkdemo\nhello\nlinux\nalong\n\n[root@along ~]# awk -F: 'BEGIN{print \"\u7b2c\u4e00\u5217\"}{print $1} END{print \"\u7ed3\u675f\"}' awkdemo\n\u7b2c\u4e00\u5217\nhello\nlinux\nalong\n\u7ed3\u675f\n")),(0,r.kt)("h4",{id:"5-\u9ad8\u9636\u7528\u6cd5"},"5. \u9ad8\u9636\u7528\u6cd5\uff1a"),(0,r.kt)("h5",{id:"1-if-"},"1. if \uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"if``(condition){statement;\u2026}[``else` `statement] \u53cc\u5206\u652f\n\nif``(condition1){statement1}``else` `if``(condition2){statement2}``else``{statement3} \u591a\u5206\u652f\n")),(0,r.kt)("p",null,"\u4f7f\u7528\u573a\u666f\uff1a\u5bf9awk \u53d6\u5f97\u7684\u6574\u884c\u6216\u67d0\u4e2a\u5b57\u6bb5\u505a\u6761\u4ef6\u5224\u65ad"),(0,r.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'[root@along ~]# awk -F: \'{if($3>10 && $3<1000)print $1,$3}\' /etc/passwd\noperator 11\ngames 1\n\n[root@along ~]# awk -F: \'{if($NF=="/bin/bash") print $1,$NF}\' /etc/passwd\nroot /bin/bash\nalong /bin/bash\n\n---\u8f93\u51fa\u603b\u5217\u6570\u5927\u4e8e3\u7684\u884c\n[root@along ~]# awk -F: \'{if(NF>2) print $0}\' awkdemo\nlinux:redhat:lalala:hahaha\nalong:love:you\n\n---\u7b2c3\u5217>=1000\u4e3aCommon user\uff0c\u53cd\u4e4b\u662froot or Sysuser\n[root@along ~]# awk -F: \'{if($3>=1000) {printf "Common user: %s\\n",$1} else{printf "root or Sysuser: %s\\n",$1}}\' /etc/passwd\nroot or Sysuser: root\nroot or Sysuser: bin\nCommon user: along\n\n---\u78c1\u76d8\u5229\u7528\u7387\u8d85\u8fc740\u7684\u8bbe\u5907\u540d\u548c\u5229\u7528\u7387\n[root@along ~]# df -h|awk -F% \'/^\\/dev/{print $1}\'|awk \'$NF > 40{print $1,$NF}\'\n/dev/mapper/cl-root 43\n---test=100\u548c>90\u4e3avery good; 90>test>60\u4e3agood; test<60\u4e3ano pass\n[root@along ~]# awk \'BEGIN{ test=100;if(test>90){print "very good"}else if(test>60){ print "good"}else{print "no pass"}}\'\nvery good\n\n[root@along ~]# awk \'BEGIN{ test=80;if(test>90){print "very good"}else if(test>60){ print "good"}else{print "no pass"}}\'\ngood\n\n[root@along ~]# awk \'BEGIN{ test=50;if(test>90){print "very good"}else if(test>60){ print "good"}else{print "no pass"}}\'\nno pass\n')),(0,r.kt)("h5",{id:"2-while"},"2. while\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"while(condition){statement;\u2026}\n")),(0,r.kt)("p",null,"\u3000\u5bf9\u4e00\u884c\u5185\u7684\u591a\u4e2a\u5b57\u6bb5\u9010\u4e00\u7c7b\u4f3c\u5904\u7406\u65f6\u4f7f\u7528"),(0,r.kt)("p",null,"\u3000\u5bf9\u6570\u7ec4\u4e2d\u7684\u5404\u5143\u7d20\u9010\u4e00\u5904\u7406\u65f6\u4f7f\u7528"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"---\u4ee5along\u5f00\u5934\u7684\u884c\uff0c\u4ee5\uff1a\u4e3a\u5206\u9694\uff0c\u663e\u793a\u6bcf\u4e00\u884c\u7684\u6bcf\u4e2a\u5355\u8bcd\u548c\u5176\u957f\u5ea6\n[root@along ~]# awk -F: '/^along/{i=1;while(i<=NF){print $i,length($i); i++}}' awkdemo\nalong 5\nlove 4\nyou 3\n\n---\u4ee5\uff1a\u4e3a\u5206\u9694\uff0c\u663e\u793a\u6bcf\u4e00\u884c\u7684\u957f\u5ea6\u5927\u4e8e6\u7684\u5355\u8bcd\u548c\u5176\u957f\u5ea6\n[root@along ~]# awk -F: '{i=1;while(i<=NF) {if(length($i)>=6){print $i,length($i)}; i++}}' awkdemo\nredhat 6\nlalala 6\nhahaha 6\n\n---\u8ba1\u7b971+2+3+...+100=5050\n[root@along ~]# awk 'BEGIN{i=1;sum=0;while(i<=100){sum+=i;i++};print sum}'\n5050\n")),(0,r.kt)("h5",{id:"3-do-while"},"3. do-while\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"do {statement;\u2026}while(condition)\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"\u8ba1\u7b971+2+3+...+100=5050\n[root@along ~]# awk 'BEGIN{sum=0;i=1;do{sum+=i;i++}while(i<=100);print sum}'\n5050\n")),(0,r.kt)("h5",{id:"4-for"},"4. for\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"for(expr1;expr2;expr3) {statement;\u2026}\n")),(0,r.kt)("p",null,"\u7279\u6b8a\u7528\u6cd5\uff1a\u904d\u5386\u6570\u7ec4\u4e2d\u7684\u5143\u7d20\uff08\u63a5\u4e0b\u6765 \u4ecb\u7ecd\uff09"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"for(var in array) {for-body}\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"---\u663e\u793a\u6bcf\u4e00\u884c\u7684\u6bcf\u4e2a\u5355\u8bcd\u548c\u5176\u957f\u5ea6\n[root@along ~]# awk -F: '{for(i=1;i<=NF;i++) {print$i,length($i)}}' awkdemo\nhello 5\nworld 5\nlinux 5\nredhat 6\nlalala 6\nhahaha 6\nalong 5\nlove 4\nyou 3\n\n---\u6c42\u7537m\u3001\u5973f\u5404\u81ea\u7684\u5e73\u5747\n[root@along ~]# cat sort.txt\nxiaoming m 90\nxiaohong f 93\nxiaohei m 80\nxiaofang f 99\n\n[root@along ~]# awk '{m[$2]++;score[$2]+=$3}END{for(i in m){printf \"%s:%6.2f\\n\",i,score[i]/m[i]}}' sort.txt\nm: 85.00\nf: 96.00\n")),(0,r.kt)("h5",{id:"5-\u548cshell\u811a\u672c\u4e2d\u8f83\u76f8\u4f3c\u7684\u63a7\u5236\u8bed\u53e5"},"5. \u548cshell\u811a\u672c\u4e2d\u8f83\u76f8\u4f3c\u7684\u63a7\u5236\u8bed\u53e5\uff1a"),(0,r.kt)("h6",{id:"1-switch\u8bed\u53e5"},"1. switch\u8bed\u53e5\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"switch(expression) {case VALUE1 or /REGEXP/:statement1; case VALUE2 or /REGEXP2/: statement2;...; default: statementn}\n")),(0,r.kt)("h6",{id:"2-break\u548ccontinue"},"2. break\u548ccontinue\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"---\u5947\u6570\u76f8\u52a0\n[root@along ~]# awk 'BEGIN{sum=0;for(i=1;i<=100;i++){if(i%2==0)continue;sum+=i}print sum}'\n2500\n\n---1+2+...+66\n[root@along ~]# awk 'BEGIN{sum=0;for(i=1;i<=100;i++){if(i==66)break;sum+=i}print sum}'\n2145\n")),(0,r.kt)("h6",{id:"3-next"},"3. next\uff1a"),(0,r.kt)("p",null,"\u63d0\u524d\u7ed3\u675f\u5bf9\u672c\u884c\u5904\u7406\u800c\u76f4\u63a5\u8fdb\u5165\u4e0b\u4e00\u884c\u5904\u7406\uff08awk \u81ea\u8eab\u5faa\u73af\uff09"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"---\u53ea\u6253\u5370\u5076\u6570\u884c\n[root@along ~]# awk -F: '{if(NR%2!=0) next; print $1,$3}' /etc/passwd\nbin 1\nadm 3\n")),(0,r.kt)("h5",{id:"6-\u6570\u7ec4"},"6. \u6570\u7ec4\uff1a"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5173\u8054\u6570\u7ec4\uff1aarray","[index-expression]")),(0,r.kt)("p",null,"\uff081\uff09\u53ef\u4f7f\u7528\u4efb\u610f\u5b57\u7b26\u4e32\uff1b\u5b57\u7b26\u4e32\u8981\u4f7f\u7528\u53cc\u5f15\u53f7\u62ec\u8d77\u6765"),(0,r.kt)("p",null,"\uff082\uff09\u5982\u679c\u67d0\u6570\u7ec4\u5143\u7d20\u4e8b\u5148\u4e0d\u5b58\u5728\uff0c\u5728\u5f15\u7528\u65f6\uff0cawk \u4f1a\u81ea\u52a8\u521b\u5efa\u6b64\u5143\u7d20\uff0c\u5e76\u5c06\u5176\u503c\u521d\u59cb\u5316\u4e3a\u201c\u7a7a\u4e32\u201d"),(0,r.kt)("p",null,"\uff083\uff09\u82e5\u8981\u5224\u65ad\u6570\u7ec4\u4e2d\u662f\u5426\u5b58\u5728\u67d0\u5143\u7d20\uff0c\u8981\u4f7f\u7528\u201cindex in array\u201d\u683c\u5f0f\u8fdb\u884c",(0,r.kt)("strong",{parentName:"p"},"\u904d\u5386")),(0,r.kt)("p",null,"\uff084\uff09\u82e5\u8981",(0,r.kt)("strong",{parentName:"p"},"\u904d\u5386\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20"),"\uff0c\u8981\u4f7f\u7528for \u5faa\u73af",(0,r.kt)("strong",{parentName:"p"},"\uff1afor(var in array)")," {for-body}"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"awk\u4f7f\u7528\u6570\u7ec4")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"[root@along ~]# cat awkdemo2\naaa\nbbbb\naaa\n123\n123\n123\n\n---\u53bb\u9664\u91cd\u590d\u7684\u884c\n[root@along ~]# awk '!arr[$0]++' awkdemo2\naaa\nbbbb\n123\n\n---\u6253\u5370\u6587\u4ef6\u5185\u5bb9\uff0c\u548c\u8be5\u884c\u91cd\u590d\u7b2c\u51e0\u6b21\u51fa\u73b0\n[root@along ~]# awk '{!arr[$0]++;print $0,arr[$0]}' awkdemo2\naaa 1\nbbbb 1\naaa 2\n123 1\n123 2\n123 3\n")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"\u6570\u7ec4\u904d\u5386")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'[root@along ~]# awk \'BEGIN{abc["ceo"]="along";abc["coo"]="mayun";abc["cto"]="mahuateng";for(i in abc){print i,abc[i]}}\'\ncoo mayun\nceo along\ncto mahuateng\n\n[root@along ~]# awk \'{for(i=1;i<=NF;i++)abc[$i]++}END{for(j in abc)print j,abc[j]}\' awkdemo2\naaa 2\nbbbb 1\n123 3\n')),(0,r.kt)("h6",{id:"2-\u6570\u503c\u5b57\u7b26\u4e32\u5904\u7406"},"2. \u6570\u503c\\\u5b57\u7b26\u4e32\u5904\u7406\uff1a"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u6570\u503c\u5904\u7406")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"rand()\uff1a\u8fd4\u56de0\u548c1\u4e4b\u95f4\u4e00\u4e2a\u968f\u673a\u6570\uff0c\u9700\u6709\u4e2a\u79cd\u5b50 srand()\uff0c\u6ca1\u6709\u79cd\u5b50\uff0c\u4e00\u76f4\u8f93\u51fa0.237788")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"[root@along ~]# awk 'BEGIN{print rand()}'\n0.237788\n\n[root@along ~]# awk 'BEGIN{srand(); print rand()}'\n0.51692\n\n[root@along ~]# awk 'BEGIN{srand(); print rand()}'\n0.189917\n\n---\u53d60-50\u968f\u673a\u6570\n[root@along ~]# awk 'BEGIN{srand(); print int(rand()*100%50)+1}'\n12\n\n[root@along ~]# awk 'BEGIN{srand(); print int(rand()*100%50)+1}'\n24\n")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"\u5b57\u7b26\u4e32\u5904\u7406")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"length(","[s]",") \uff1a\u8fd4\u56de\u6307\u5b9a\u5b57\u7b26\u4e32\u7684\u957f\u5ea6"),(0,r.kt)("li",{parentName:"ul"},"sub(r,s,","[t]",") \uff1a\u5bf9t \u5b57\u7b26\u4e32\u8fdb\u884c\u641c\u7d22r \u8868\u793a\u7684\u6a21\u5f0f\u5339\u914d\u7684\u5185\u5bb9\uff0c\u5e76",(0,r.kt)("strong",{parentName:"li"},"\u5c06\u7b2c\u4e00\u4e2a"),"\u5339\u914d\u7684\u5185\u5bb9\u66ff\u6362\u4e3as"),(0,r.kt)("li",{parentName:"ul"},"gsub(r,s,","[t]",") \uff1a\u5bf9t \u5b57\u7b26\u4e32\u8fdb\u884c\u641c\u7d22r \u8868\u793a\u7684\u6a21\u5f0f\u5339\u914d\u7684\u5185\u5bb9\uff0c",(0,r.kt)("strong",{parentName:"li"},"\u5e76\u5168\u90e8\u66ff\u6362"),"\u4e3as \u6240\u8868\u793a\u7684\u5185\u5bb9"),(0,r.kt)("li",{parentName:"ul"},"plit(s,array,","[r]",") \uff1a\u4ee5r \u4e3a\u5206\u9694\u7b26\uff0c\u5207\u5272\u5b57\u7b26\u4e32s \uff0c\u5e76\u5c06\u5207\u5272\u540e\u7684\u7ed3\u679c\u4fdd\u5b58\u81f3array \u6240\u8868\u793a\u7684\u6570\u7ec4\u4e2d\uff0c\u7b2c\u4e00\u4e2a\u7d22\u5f15\u503c\u4e3a1, \u7b2c\u4e8c\u4e2a\u7d22\u5f15\u503c\u4e3a2,\u2026")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shel"},'[root@along ~]# echo "2008:08:08 08:08:08" | awk \'sub(/:/,"-",$1)\'\n2008-08:08 08:08:08\n\n[root@along ~]# echo "2008:08:08 08:08:08" | awk \'gsub(/:/,"-",$0)\'\n2008-08-08 08-08-08\n\n[root@along ~]# echo "2008:08:08 08:08:08" | awk \'{split($0,i,":")}END{for(n in i){print n,i[n]}}\'\n4 08\n5 08\n1 2008\n2 08\n3 08 08\n')),(0,r.kt)("h6",{id:"3-\u81ea\u5b9a\u4e49\u51fd\u6570"},"3. \u81ea\u5b9a\u4e49\u51fd\u6570\uff1a"),(0,r.kt)("p",null,"\u548cbash\u533a\u522b\uff1a\u5b9a\u4e49\u51fd\u6570\uff08\uff09\u4e2d\u9700\u52a0\u53c2\u6570\uff0creturn\u8fd4\u56de\u503c\u4e0d\u662f$?\uff0c\u662f\u76f8\u5f53\u4e8eecho\u8f93\u51fa"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"function name ( parameter, parameter, ... ) {\n    statements\n    return expression\n}\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"[root@along ~]# cat fun.awk\nfunction max(v1,v2) {\n    v1>v2?var=v1:var=v2\n    return var\n}\nBEGIN{a=3;b=2;print max(a,b)}\n[root@along ~]# awk -f fun.awk\n3\n")),(0,r.kt)("h6",{id:"4-awk\u4e2d\u8c03\u7528shell-\u547d\u4ee4"},"4. awk\u4e2d\u8c03\u7528shell \u547d\u4ee4\uff1a"),(0,r.kt)("p",null,"\uff081\uff09system \u547d\u4ee4"),(0,r.kt)("p",null,'\u3000\u3000\u7a7a\u683c\u662fawk \u4e2d\u7684\u5b57\u7b26\u4e32\u8fde\u63a5\u7b26\uff0c\u5982\u679csystem\u4e2d\u9700\u8981\u4f7f\u7528awk\u4e2d\u7684\u53d8\u91cf\u53ef\u4ee5\u4f7f\u7528\u7a7a\u683c\u5206\u9694\uff0c\u6216\u8005\u8bf4\u9664\u4e86awk \u7684\u53d8\u91cf\u5916\u5176\u4ed6\u4e00\u5f8b\u7528"" \u5f15\u7528 \u8d77\u6765\u3002'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'[root@along ~]# awk BEGIN\'{system("hostname") }\'\nalong\n[root@along ~]# awk \'BEGIN{name="along";system("echo "name)}\'  \u6ce8\uff1a"echo " echo\u540e\u6709\u7a7a\u683c\nalong\n[root@along ~]# awk \'BEGIN{score=100; system("echo your score is " score) }\'\nyour score is 100\u3000\n')),(0,r.kt)("p",null,"\uff082\uff09awk \u811a\u672c"),(0,r.kt)("p",null,"\u5c06awk \u7a0b\u5e8f\u5199\u6210\u811a\u672c\uff0c\u76f4\u63a5\u8c03\u7528\u6216\u6267\u884c"),(0,r.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"[root@along ~]# cat f1.awk\n{if($3>=1000)print $1,$3}\n[root@along ~]# cat f2.awk\n#!/bin/awk -f\n{if($3 >= 1000)print $1,$3}\n[root@along ~]# chmod +x f2.awk\n[root@along ~]# ./f2.awk -F: /etc/passwd\nalong 1000\u3000\n")),(0,r.kt)("p",null,"\uff083\uff09\u5411awk\u811a\u672c\u4f20\u9012\u53c2\u6570"),(0,r.kt)("p",null,"\u2460 \u683c\u5f0f\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"awkfile var=value var2=value2... Inputfile\n")),(0,r.kt)("p",null,"\u3000\u3000\u6ce8\u610f \uff1a\u5728BEGIN \u8fc7\u7a0b \u4e2d\u4e0d\u53ef\u7528\u3002\u76f4\u5230 \u9996\u884c\u8f93\u5165\u5b8c\u6210\u4ee5\u540e\uff0c\u53d8\u91cf\u624d\u53ef\u7528 \u3002\u53ef\u4ee5\u901a\u8fc7",(0,r.kt)("strong",{parentName:"p"},"-v  \u53c2\u6570"),"\uff0c\u8ba9awk \u5728\u6267\u884cBEGIN \u4e4b\u524d\u5f97\u5230\u53d8\u91cf\u7684\u503c\u3002\u547d\u4ee4\u884c\u4e2d\u6bcf\u4e00\u4e2a\u6307\u5b9a\u7684\u53d8\u91cf\u90fd\u9700\u8981\u4e00\u4e2a-v"),(0,r.kt)("p",null,"\u2461 \u793a\u4f8b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"[root@along ~]# cat test.awk\n#!/bin/awk -f\n{if($3 >=min && $3<=max)print $1,$3}\n[root@along ~]# chmod +x test.awk\n[root@along ~]# ./test.awk -F: min=100 max=200 /etc/passwd\nsystemd-network 192\n")))}s.isMDXComponent=!0}}]);