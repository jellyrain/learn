"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9185],{3905:function(e,n,o){o.d(n,{Zo:function(){return l},kt:function(){return u}});var r=o(67294);function t(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function a(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),o.push.apply(o,r)}return o}function s(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?a(Object(o),!0).forEach((function(n){t(e,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n))}))}return e}function p(e,n){if(null==e)return{};var o,r,t=function(e,n){if(null==e)return{};var o,r,t={},a=Object.keys(e);for(r=0;r<a.length;r++)o=a[r],n.indexOf(o)>=0||(t[o]=e[o]);return t}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)o=a[r],n.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(t[o]=e[o])}return t}var i=r.createContext({}),d=function(e){var n=r.useContext(i),o=n;return e&&(o="function"==typeof e?e(n):s(s({},n),e)),o},l=function(e){var n=d(e.components);return r.createElement(i.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},h=r.forwardRef((function(e,n){var o=e.components,t=e.mdxType,a=e.originalType,i=e.parentName,l=p(e,["components","mdxType","originalType","parentName"]),h=d(o),u=t,f=h["".concat(i,".").concat(u)]||h[u]||c[u]||a;return o?r.createElement(f,s(s({ref:n},l),{},{components:o})):r.createElement(f,s({ref:n},l))}));function u(e,n){var o=arguments,t=n&&n.mdxType;if("string"==typeof e||t){var a=o.length,s=new Array(a);s[0]=h;var p={};for(var i in n)hasOwnProperty.call(n,i)&&(p[i]=n[i]);p.originalType=e,p.mdxType="string"==typeof e?e:t,s[1]=p;for(var d=2;d<a;d++)s[d]=o[d];return r.createElement.apply(null,s)}return r.createElement.apply(null,o)}h.displayName="MDXCreateElement"},88113:function(e,n,o){o.r(n),o.d(n,{assets:function(){return l},contentTitle:function(){return i},default:function(){return u},frontMatter:function(){return p},metadata:function(){return d},toc:function(){return c}});var r=o(83117),t=o(80102),a=(o(67294),o(3905)),s=["components"],p={sidebar_position:4},i=void 0,d={unversionedId:"Hadoop/Hadoop\u5e38\u7528\u811a\u672c",id:"Hadoop/Hadoop\u5e38\u7528\u811a\u672c",title:"Hadoop\u5e38\u7528\u811a\u672c",description:"1. \u81ea\u52a8\u5206\u53d1\u811a\u672c\uff1a",source:"@site/docs\\8-Hadoop\\Hadoop\u5e38\u7528\u811a\u672c.md",sourceDirName:"8-Hadoop",slug:"/Hadoop/Hadoop\u5e38\u7528\u811a\u672c",permalink:"/learn/Hadoop/Hadoop\u5e38\u7528\u811a\u672c",draft:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Hadoop\u5b8c\u5168\u5206\u5e03\u5f0f\u642d\u5efa",permalink:"/learn/Hadoop/Hadoop\u5b8c\u5168\u5206\u5e03\u5f0f\u642d\u5efa"},next:{title:"HDFS\u6982\u8ff0",permalink:"/learn/Hadoop/HDFS/HDFS\u6982\u8ff0"}},l={},c=[{value:"1. \u81ea\u52a8\u5206\u53d1\u811a\u672c\uff1a",id:"1-\u81ea\u52a8\u5206\u53d1\u811a\u672c",level:2},{value:"2. Hadoop\u96c6\u7fa4\u542f\u505c\u811a\u672c\uff08\u5305\u542bHDFS\uff0cYarn\uff0cHistoryserver\uff09\uff1a",id:"2-hadoop\u96c6\u7fa4\u542f\u505c\u811a\u672c\u5305\u542bhdfsyarnhistoryserver",level:2},{value:"3. \u67e5\u770b\u4e09\u53f0\u670d\u52a1\u5668Java\u8fdb\u7a0b\u811a\u672c\uff1a",id:"3-\u67e5\u770b\u4e09\u53f0\u670d\u52a1\u5668java\u8fdb\u7a0b\u811a\u672c",level:2}],h={toc:c};function u(e){var n=e.components,o=(0,t.Z)(e,s);return(0,a.kt)("wrapper",(0,r.Z)({},h,o,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"1-\u81ea\u52a8\u5206\u53d1\u811a\u672c"},"1. \u81ea\u52a8\u5206\u53d1\u811a\u672c\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},'#!/bin/bash\n#1. \u5224\u65ad\u53c2\u6570\u4e2a\u6570\nif [ $# -lt 1 ]\nthen\n  echo Not Enough Arguement!\n  exit;\nfi\n#2. \u904d\u5386\u96c6\u7fa4\u6240\u6709\u673a\u5668\nfor host in hadoop101 hadoop102 hadoop103 # \u673a\u5668 IP \u6216\u8005 \u4f60\u8bbe\u7f6e\u7684 host \u503c\ndo\n  echo ====================  $host  ====================\n  #3. \u904d\u5386\u6240\u6709\u76ee\u5f55\uff0c\u6328\u4e2a\u53d1\u9001\n  for file in $@\n  do\n    #4. \u5224\u65ad\u6587\u4ef6\u662f\u5426\u5b58\u5728\n    if [ -e $file ]\n    then\n      #5. \u83b7\u53d6\u7236\u76ee\u5f55\n      pdir=$(cd -P $(dirname $file); pwd)\n      #6. \u83b7\u53d6\u5f53\u524d\u6587\u4ef6\u7684\u540d\u79f0\n      fname=$(basename $file)\n      ssh $host "mkdir -p $pdir"\n      rsync -av $pdir/$fname $host:$pdir\n    else\n      echo $file does not exists!\n    fi\n  done\ndone\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"chmod +x xsync\n")),(0,a.kt)("h2",{id:"2-hadoop\u96c6\u7fa4\u542f\u505c\u811a\u672c\u5305\u542bhdfsyarnhistoryserver"},"2. Hadoop\u96c6\u7fa4\u542f\u505c\u811a\u672c\uff08\u5305\u542bHDFS\uff0cYarn\uff0cHistoryserver\uff09\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},'#!/bin/bash\n\nif [ $# -lt 1 ]\nthen\n    echo "No Args Input..."\n    exit ;\nfi\n\ncase $1 in\n"start")\n        echo " =================== \u542f\u52a8 hadoop\u96c6\u7fa4 ==================="\n\n        echo " --------------- \u542f\u52a8 hdfs ---------------"\n        ssh hadoop101 "/opt/module/hadoop-3.1.3/sbin/start-dfs.sh"\n        echo " --------------- \u542f\u52a8 yarn ---------------"\n        ssh hadoop102 "/opt/module/hadoop-3.1.3/sbin/start-yarn.sh"\n        echo " --------------- \u542f\u52a8 historyserver ---------------"\n        ssh hadoop101 "/opt/module/hadoop-3.1.3/bin/mapred --daemon start historyserver"\n;;\n"stop")\n        echo " =================== \u5173\u95ed hadoop\u96c6\u7fa4 ==================="\n\n        echo " --------------- \u5173\u95ed historyserver ---------------"\n        ssh hadoop101 "/opt/module/hadoop-3.1.3/bin/mapred --daemon stop historyserver"\n        echo " --------------- \u5173\u95ed yarn ---------------"\n        ssh hadoop102 "/opt/module/hadoop-3.1.3/sbin/stop-yarn.sh"\n        echo " --------------- \u5173\u95ed hdfs ---------------"\n        ssh hadoop101 "/opt/module/hadoop-3.1.3/sbin/stop-dfs.sh"\n;;\n*)\n    echo "Input Args Error..."\n;;\nesac\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"chmod +x myhadoop\n")),(0,a.kt)("h2",{id:"3-\u67e5\u770b\u4e09\u53f0\u670d\u52a1\u5668java\u8fdb\u7a0b\u811a\u672c"},"3. \u67e5\u770b\u4e09\u53f0\u670d\u52a1\u5668Java\u8fdb\u7a0b\u811a\u672c\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"#!/bin/bash\n\nfor host in hadoop101 hadoop102 hadoop103\ndo\n        echo =============== $host ===============\n        ssh $host jps \ndone\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"chmod +x jpsall\n")))}u.isMDXComponent=!0}}]);